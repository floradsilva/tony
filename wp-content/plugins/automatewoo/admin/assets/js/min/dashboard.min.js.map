{"version":3,"sources":["dashboard.js"],"names":["$","self","AW","Dashboard","$el","params","init","automatewooDashboardLocalizeScript","initMasonry","masonry","itemSelector","columnWidth","percentPosition","gutter","transitionDuration","drawGraph","id","data","$chart","sets","setColors","_","each","values","name","set","label","color","shift","points","show","radius","lineWidth","fillColor","fill","lines","colors","opacity","shadowSize","isCurrency","is_currency","size","push","options","legend","grid","borderColor","borderWidth","hoverable","xaxis","position","tickColor","mode","monthNames","locale","month_abbrev","tickLength","font","yaxis","interval","minTickSize","plot","bind","event","pos","item","$wrap","parents","$tooltip","siblings","wrap_offset","offset","series","content","datapoint","price","html","css","top","pageY","left","pageX","fadeIn","hide","jQuery"],"mappings":"CAAA,SAAUA,GAEN,IAAIC,EAEJC,GAAGC,UAAY,CAEXC,IAAKJ,EAAG,kCAERK,OAAQ,GAGRC,KAAM,WACFL,EAAKI,OAASE,mCACdN,EAAKO,eAKTA,YAAa,WACTP,EAAKG,IAAIK,QAAQ,CACbC,aAAc,gCACdC,YAAa,sCACbC,iBAAiB,EACjBC,OAAQ,GACRC,mBAAoB,UAK5BC,UAAW,SAAUC,EAAIC,EAAMZ,GAE3B,IAAIa,EAASlB,EAAG,IAAMgB,GAClBG,EAAO,GACPC,EAAY,CAAE,UAAW,UAAW,WAExCC,EAAEC,KAAML,EAAM,SAAUM,EAAQC,GAC5B,IAAIC,EAAM,CACNC,MAAO,GACPT,KAAMM,EACNI,MAAOP,EAAUQ,QACjBC,OAAQ,CACJC,MAAM,EACNC,OAAQ,EACRC,UAAW,EACXC,UAAW,UACXC,MAAM,GAEVC,MAAO,CACHL,MAAM,EACNE,UAAW,EACXE,MAAM,EACND,UAAW,CAAEG,OAAQ,CAAE,CAAEC,QAAS,KAAQ,CAAEA,QAAS,QAEzDC,WAAY,EACZC,WAAYlC,EAAOmC,aAGD,EAAjBnB,EAAEoB,KAAMxB,KACTQ,EAAIU,MAAMD,MAAO,GAGrBf,EAAKuB,KAAMjB,KAIf,IAAIkB,EAAU,CACVC,OAAQ,CACJd,MAAM,GAEVe,KAAM,CACFlB,MAAO,OACPmB,YAAa,cACbC,YAAa,EACbC,WAAW,GAEfC,MAAO,CACHtB,MAAO,UACPuB,SAAU,SACVC,UAAW,cACXC,KAAM,OACNC,WAAYnD,GAAGG,OAAOiD,OAAOC,aAC7BC,WAAY,EACZC,KAAM,CACF9B,MAAO,SAGf+B,MAAO,CACH/B,MAAO,OACP8B,KAAM,CACF9B,MAAO,UAMK,IAAnBtB,EAAOsD,WACRhB,EAAQM,MAAMW,YAAc,CAAE,EAAG,QAIrC5D,EAAE6D,KAAM3C,EAAQC,EAAMwB,GAGtBzB,EAAO4C,KAAM,YAAa,SAAUC,EAAOC,EAAKC,GAE5C,IAAIC,EAAQhD,EAAOiD,QAAS,sCACxBC,EAAWlD,EAAOmD,SAAU,+CAC5BC,EAAcJ,EAAMK,SAExB,GAAKN,GAAQA,EAAKO,OAAO3C,OAAOC,KAAO,CAEnC,IAAI2C,EAAUR,EAAKS,UAAU,GAExBT,EAAKO,OAAOjC,aACbkC,EAAUvE,GAAGyE,MAAOF,IAGxBL,EAASQ,KAAMH,GACVI,IAAI,CACDC,IAAKb,EAAKc,MAAQ,EAAIT,EAAYQ,IAClCE,KAAMf,EAAKgB,MAAQ,GAAKX,EAAYU,OAEvCE,OAAQ,UAEbd,EAASe,YAQzBlF,EAAOC,GAAGC,WACLG,OArIT,CAuIG8E","file":"dashboard.min.js","sourcesContent":["(function($) {\n\n    var self;\n\n    AW.Dashboard = {\n\n        $el: $( '.automatewoo-dashboard-widgets' ),\n\n        params: {},\n\n\n        init: function() {\n            self.params = automatewooDashboardLocalizeScript;\n            self.initMasonry();\n        },\n\n\n\n        initMasonry: function() {\n            self.$el.masonry({\n                itemSelector: '.automatewoo-dashboard-widget',\n                columnWidth: '.automatewoo-dashboard-widget-sizer',\n                percentPosition: true,\n                gutter: 20,\n                transitionDuration: '0.2s'\n            });\n        },\n\n\n        drawGraph: function( id, data, params ) {\n\n            var $chart = $( '#' + id );\n            var sets = [];\n            var setColors = [ '#3498db', '#d0a0e4', '#72c9b2' ];\n\n            _.each( data, function( values, name ) {\n                var set = {\n                    label: '',\n                    data: values,\n                    color: setColors.shift(),\n                    points: {\n                        show: true,\n                        radius: 3,\n                        lineWidth: 2,\n                        fillColor: '#ffffff',\n                        fill: true\n                    },\n                    lines: {\n                        show: true,\n                        lineWidth: 2,\n                        fill: true,\n                        fillColor: { colors: [ { opacity: 0.02 }, { opacity: 0.16 } ] }\n                    },\n                    shadowSize: 0,\n                    isCurrency: params.is_currency\n                };\n\n                if ( _.size( data ) > 1 ) {\n                    set.lines.fill = false;\n                }\n\n                sets.push( set );\n            });\n\n\n            var options = {\n                legend: {\n                    show: false\n                },\n                grid: {\n                    color: '#aaa',\n                    borderColor: 'transparent',\n                    borderWidth: 0,\n                    hoverable: true\n                },\n                xaxis: {\n                    color: '#e5e5e5',\n                    position: \"bottom\",\n                    tickColor: 'transparent',\n                    mode: \"time\",\n                    monthNames: AW.params.locale.month_abbrev,\n                    tickLength: 1,\n                    font: {\n                        color: \"#aaa\"\n                    }\n                },\n                yaxis: {\n                    color: '#fff',\n                    font: {\n                        color: \"#fff\"\n                    }\n                }\n            };\n\n\n            if ( params.interval == 30 ) {\n                options.xaxis.minTickSize = [ 4, 'day' ];\n            }\n\n\n            $.plot( $chart, sets, options );\n\n\n            $chart.bind( 'plothover', function( event, pos, item ) {\n\n                var $wrap = $chart.parents( '.automatewoo-dashboard-chart:first' );\n                var $tooltip = $chart.siblings( '.automatewoo-dashboard-chart__tooltip:first' );\n                var wrap_offset = $wrap.offset();\n\n                if ( item && item.series.points.show ) {\n\n                    var content = item.datapoint[1];\n\n                    if ( item.series.isCurrency ) {\n                        content = AW.price( content );\n                    }\n\n                    $tooltip.html( content )\n                        .css({\n                            top: item.pageY - 9 - wrap_offset.top,\n                            left: item.pageX + 12 - wrap_offset.left\n                        })\n                        .fadeIn( 200 );\n                } else {\n                    $tooltip.hide();\n                }\n            });\n\n        }\n\n    };\n\n    self = AW.Dashboard;\n    self.init();\n\n})(jQuery);"]}