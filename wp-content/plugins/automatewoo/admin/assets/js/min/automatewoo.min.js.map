{"version":3,"sources":["automatewoo.js"],"names":["AutomateWoo","AW","$","init","params","automatewooLocalizeScript","initTooltips","initWorkflowStatusSwitch","initShowHide","initHoverableDates","document","body","on","initEnhancedSelects","tipTip","attribute","fadeIn","fadeOut","delay","initEnhancedSelectsLegacy","filter","each","select2_args","allowClear","this","data","placeholder","minimumInputLength","escapeMarkup","m","ajax","url","dataType","quietMillis","term","action","sibling","$sibling","length","val","processResults","terms","id","text","push","results","cache","select2","addClass","ajaxurl","multiple","initSelection","element","callback","parseJSON","attr","selected","split","i","formatSelection","click","$switch","new_state","is","post","workflow_id","removeClass","price","float","toFixed","symbol","locale","currency_symbol","currency_position","block","$el","message","overlayCSS","background","opacity","update","value","is_checkbox","show","hide","logic","indexOf","hover","ready","jQuery","_email_preview_window","init_notice_dismiss","init_date_pickers","notices","success","$location","before","error","clear_all","slideUp","datepicker","dateFormat","numberOfMonths","showButtonPanel","isEmailPreviewOpen","closed","openLoadingEmailPreview","openPreviewWindow","admin","open_email_preview","type","args","request","page","param","window","open"],"mappings":"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","file":"automatewoo.min.js","sourcesContent":["/**\n * AutomateWoo main - loaded on every admin page\n */\n\nvar AutomateWoo, AW = {};\n\n(function($) {\n\n\tAW.init = function() {\n\n\t\tAW.params = automatewooLocalizeScript;\n\n\t\tAW.initTooltips();\n\t\tAW.initWorkflowStatusSwitch();\n\t\tAW.initShowHide();\n\t\tAW.initHoverableDates();\n\n        $(document.body).on('wc-enhanced-select-init', function() {\n\t\t\tAW.initEnhancedSelects();\n\t\t});\n\t};\n\n\n\t/**\n\t * Init tool tips\n\t */\n\tAW.initTooltips = function () {\n\t\t$( '.automatewoo-help-tip, .automatewoo-tiptip' ).tipTip({\n\t\t\tattribute: 'data-tip',\n\t\t\tfadeIn: 50,\n\t\t\tfadeOut: 50,\n\t\t\tdelay: 200\n\t\t});\n\t};\n\n\n\t/**\n\t * Ajax search search box\n\t */\n\tAW.initEnhancedSelects = function() {\n\n\t\tAW.initEnhancedSelectsLegacy();\n\n\t\t$( 'select.automatewoo-json-search' ).filter( ':not(.enhanced)' ).each( function() {\n\t\t\tvar select2_args = {\n\t\t\t\tallowClear:  $( this ).data( 'allow_clear' ) ? true : false,\n\t\t\t\tplaceholder: $( this ).data( 'placeholder' ),\n\t\t\t\tminimumInputLength: '1',\n\t\t\t\tescapeMarkup: function( m ) {\n\t\t\t\t\treturn m;\n\t\t\t\t},\n\t\t\t\tajax: {\n\t\t\t\t\turl: AW.params.url.ajax,\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tquietMillis: 250,\n\t\t\t\t\tdata: function( params ) {\n\n\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\tterm: params.term,\n\t\t\t\t\t\t\taction: $( this ).data( 'action' )\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// pass in sibling field data\n\t\t\t\t\t\tvar sibling = $(this).data('pass-sibling');\n\t\t\t\t\t\tif ( sibling ) {\n\t\t\t\t\t\t\tvar $sibling = $('[name=\"'+ sibling+ '\"]');\n\n\t\t\t\t\t\t\tif ( $sibling.length ) {\n\t\t\t\t\t\t\t\tdata['sibling'] = $sibling.val()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t},\n\t\t\t\t\tprocessResults: function( data ) {\n\t\t\t\t\t\tvar terms = [];\n\t\t\t\t\t\tif ( data ) {\n\t\t\t\t\t\t\t$.each( data, function( id, text ) {\n\t\t\t\t\t\t\t\tterms.push( { id: id, text: text } );\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tresults: terms\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tcache: true\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$( this ).select2( select2_args ).addClass( 'enhanced' );\n\t\t});\n\n\t};\n\n\n\tAW.initEnhancedSelectsLegacy = function() {\n\n\t\t$( '.automatewoo-json-search:not(select)' ).filter( ':not(.enhanced)' ).each( function() {\n\t\t\tvar select2_args = {\n\t\t\t\tallowClear:  $( this ).data( 'allow_clear' ) ? true : false,\n\t\t\t\tplaceholder: $( this ).data( 'placeholder' ),\n\t\t\t\tminimumInputLength: 1,\n\t\t\t\tescapeMarkup: function( m ) {\n\t\t\t\t\treturn m;\n\t\t\t\t},\n\t\t\t\tajax: {\n\t\t\t\t\turl:         ajaxurl,\n\t\t\t\t\tdataType:    'json',\n\t\t\t\t\tquietMillis: 250,\n\t\t\t\t\tdata: function( term ) {\n\n\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\tterm: term,\n\t\t\t\t\t\t\taction: $( this ).data( 'action' )\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// pass in sibling field data\n\t\t\t\t\t\tvar sibling = $(this).data('pass-sibling');\n\t\t\t\t\t\tif ( sibling ) {\n\t\t\t\t\t\t\tvar $sibling = $('[name=\"'+ sibling+ '\"]');\n\n\t\t\t\t\t\t\tif ( $sibling.length ) {\n\t\t\t\t\t\t\t\tdata['sibling'] = $sibling.val()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t},\n\t\t\t\t\tresults: function( data ) {\n\t\t\t\t\t\tvar terms = [];\n\t\t\t\t\t\tif ( data ) {\n\t\t\t\t\t\t\t$.each( data, function( id, text ) {\n\t\t\t\t\t\t\t\tterms.push( { id: id, text: text } );\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tresults: terms\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tcache: true\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif ( $( this ).data( 'multiple' ) === true ) {\n\t\t\t\tselect2_args.multiple = true;\n\t\t\t\tselect2_args.initSelection = function( element, callback ) {\n\t\t\t\t\tvar data     = $.parseJSON( element.attr( 'data-selected' ) );\n\t\t\t\t\tvar selected = [];\n\n\t\t\t\t\t$( element.val().split( ',' ) ).each( function( i, val ) {\n\t\t\t\t\t\tselected.push({\n\t\t\t\t\t\t\tid: val,\n\t\t\t\t\t\t\ttext: data[ val ]\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\treturn callback( selected );\n\t\t\t\t};\n\t\t\t\tselect2_args.formatSelection = function( data ) {\n\t\t\t\t\treturn '<div class=\"selected-option\" data-id=\"' + data.id + '\">' + data.text + '</div>';\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tselect2_args.multiple = false;\n\t\t\t\tselect2_args.initSelection = function( element, callback ) {\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\tid: element.val(),\n\t\t\t\t\t\ttext: element.attr( 'data-selected' )\n\t\t\t\t\t};\n\t\t\t\t\treturn callback( data );\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t$( this ).select2( select2_args ).addClass( 'enhanced' );\n\t\t});\n\t};\n\n\n\n\tAW.initWorkflowStatusSwitch = function() {\n\n\t\t$('.aw-switch.js-toggle-workflow-status').click(function(){\n\n\t\t\tvar $switch, state, new_state;\n\n\t\t\t$switch = $(this);\n\n\t\t\tif ( $switch.is('.aw-loading') )\n\t\t\t\treturn;\n\n\t\t\tstate = $switch.attr( 'data-aw-switch' );\n\t\t\tnew_state = state === 'on' ? 'off' : 'on';\n\n\t\t\t$switch.addClass('aw-loading');\n\t\t\t$switch.attr( 'data-aw-switch', new_state );\n\n\t\t\t$.post( ajaxurl, {\n\t\t\t\taction: 'aw_toggle_workflow_status',\n\t\t\t\tworkflow_id: $switch.attr( 'data-workflow-id' ),\n\t\t\t\tnew_state: new_state\n\t\t\t}, function() {\n\t\t\t\t$switch.removeClass('aw-loading');\n\t\t\t});\n\n\t\t});\n\t};\n\n\n\t/**\n\t * @param float\n\t * @return string\n\t */\n\tAW.price = function( float ) {\n\n\t\tvar price = float.toFixed(2);\n\t\tvar symbol = AW.params.locale.currency_symbol;\n\n\t\tswitch ( AW.params.locale.currency_position ) {\n\t\t\tcase 'right':\n\t\t\t\tprice = price + symbol;\n\t\t\t\tbreak;\n\t\t\tcase 'right_space':\n\t\t\t\tprice = price + ' ' + symbol;\n\t\t\t\tbreak;\n\t\t\tcase 'left':\n\t\t\t\tprice = symbol + price;\n\t\t\t\tbreak;\n\t\t\tcase 'left_space':\n\t\t\tdefault:\n\t\t\t\tprice = symbol + ' ' + price;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn price;\n\t};\n\n\n\tAW.block = function( $el ) {\n        $el.block({\n            message: null,\n            overlayCSS: {\n                background: '#fff',\n                opacity: 0.6\n            }\n        });\n\t};\n\n\n\t/**\n\t * Show / hide logic with data attributes\n\t */\n\tAW.initShowHide = function() {\n\n\t\tvar update = function( $el ) {\n\t\t\tvar id = $el.data( 'automatewoo-bind' );\n\t\t\tvar value = $el.val();\n\t\t\tvar is_checkbox = $el.is('input[type=\"checkbox\"]');\n\n\t\t\t$('[data-automatewoo-show]').each(function() {\n\t\t\t\tif ( is_checkbox && $(this).data('automatewoo-show') === id ) {\n\t\t\t\t\tif ( $el.is(':checked') ) {\n                        $(this).show();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n                        $(this).hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n                    var logic = $(this).data('automatewoo-show').split('=');\n\n                    if ( logic[0] !== id ) {\n                        return;\n                    }\n\n                    var possible_values = logic[1].split('|');\n\n                    if ( possible_values.indexOf( value ) !== -1 ) {\n                        $(this).show();\n                    }\n                    else {\n                        $(this).hide();\n                    }\n\t\t\t\t}\n\t\t\t});\n\n\n            $('[data-automatewoo-hide]').each(function() {\n                if ( is_checkbox && $(this).data('automatewoo-hide') === id ) {\n                    if ( $el.is(':checked') ) {\n                        $(this).hide();\n                    }\n                    else {\n                        $(this).show();\n                    }\n                }\n                else {\n                    var logic = $(this).data('automatewoo-hide').split('=');\n\n                    if ( logic[0] !== id ) {\n                        return;\n                    }\n\n                    var possible_values = logic[1].split('|');\n\n                    if ( possible_values.indexOf( value ) !== -1 ) {\n                        $(this).hide();\n                    }\n                    else {\n                        $(this).show();\n                    }\n\t\t\t\t}\n            });\n\t\t};\n\n\n\t\t$(document).on( 'change', '[data-automatewoo-bind]', function() {\n\t\t\tupdate( $(this) );\n\t\t});\n\n\t\t$('[data-automatewoo-bind]').each(function() {\n\t\t\tupdate( $(this) );\n\t\t});\n\n\t};\n\n\n\n    AW.initHoverableDates = function() {\n    \t$('.automatewoo-hoverable-date').hover(\n    \t\tfunction(){\n    \t\t\t$(this).text( $(this).data('automatewoo-date-no-diff') )\n\t\t\t},\n            function(){\n                $(this).text( $(this).data('automatewoo-date-with-diff') )\n            }\n\t\t);\n    };\n\n\n\t$(document).ready(function() {\n\t\tAW.init();\n\t});\n\n\n})( jQuery );\n\n\n\njQuery(function($) {\n\n\n\tAutomateWoo = {\n\n\t\t_email_preview_window: null,\n\n\n\t\tinit: function() {\n\t\t\tthis.init_notice_dismiss();\n\t\t\tthis.init_date_pickers();\n\t\t},\n\n\n\t\tnotices: {\n\n\t\t\tsuccess: function( message, $location ) {\n\t\t\t\tif ( ! $location.length ) return;\n\t\t\t\t$location.before('<div class=\"automatewoo-notice updated fade\"><p><strong>' + message + '</strong></p></div>');\n\t\t\t},\n\n\t\t\terror: function( message, $location ) {\n\t\t\t\tif ( ! $location.length ) return;\n\t\t\t\t$location.before('<div class=\"automatewoo-notice error fade\"><p><strong>' + message + '</strong></p></div>');\n\t\t\t},\n\n\t\t\tclear_all: function() {\n\t\t\t\t$('.automatewoo-notice').slideUp();\n\t\t\t}\n\n\t\t},\n\n\n\n\t\tinit_notice_dismiss: function(){\n\n\t\t\t$('.aw-notice-licence-renew').on('click', '.notice-dismiss', function(){\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: ajaxurl,\n\t\t\t\t\tdata: { action: 'aw_dismiss_expiry_notice' }\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$('.aw-notice-system-error').on('click', '.notice-dismiss', function(){\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: ajaxurl,\n\t\t\t\t\tdata: { action: 'aw_dismiss_system_error_notice' }\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$('.automatewoo-notice--license-nag').on('click', '.notice-dismiss', function(){\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: ajaxurl,\n\t\t\t\t\tdata: { action: 'aw_dismiss_license_nag_notice' }\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t\n\n\n\t\tinit_date_pickers: function() {\n\t\t\t$( '.automatewoo-date-picker' ).datepicker({\n\t\t\t\tdateFormat: 'yy-mm-dd',\n\t\t\t\tnumberOfMonths: 1,\n\t\t\t\tshowButtonPanel: true\n\t\t\t});\n\t\t},\n\n\n\t\tisEmailPreviewOpen: function() {\n\t\t\treturn this._email_preview_window && ! this._email_preview_window.closed;\n\t\t},\n\n\n\t\topenLoadingEmailPreview: function() {\n\t\t\tthis.openPreviewWindow( AW.params.url.admin + 'admin.php?page=automatewoo-preview&action=loading' )\n\t\t},\n\n\n        /**\n\t\t * @param type\n\t\t * @param args\n         */\n\t\topen_email_preview: function( type, args ) {\n\t\t\tvar request = {\n\t\t\t\tpage: 'automatewoo-preview',\n\t\t\t\taction: 'preview-ui',\n\t\t\t\ttype: type,\n\t\t\t\targs: args\n\t\t\t};\n\n\t\t\tthis.openPreviewWindow( AW.params.url.admin + 'admin.php?' + $.param( request ) );\n\t\t},\n\n\n\t\t/**\n\t\t * @param url\n         */\n\t\topenPreviewWindow: function( url ) {\n\t\t\tthis._email_preview_window = window.open( url, 'automatewoo_preview', 'titlebar=no,toolbar=no,height=768,width=860,resizable=yes,status=no' );\n\t\t}\n\n\n\t};\n\n\tAutomateWoo.init();\n\n});\n"]}