jQuery(function(a){"use strict";var t={get_geo_var:function(e){var t="#wcpbc-"+e,r=!1;return void 0!==a(t).data("value")&&a(t).data("value")&&(r=a(t).data("value")),r},isset_geo_country:function(){return t.get_geo_var("http-cf-ipcountry")||t.get_geo_var("geoip-country-code")||t.get_geo_var("http-x-country-code")},x_forwarded_for_issue:function(){return!t.isset_geo_country()&&!t.get_geo_var("http-x-real-ip")&&t.get_geo_var("http-x-forwarded-for")&&t.get_geo_var("http-x-forwarded-for")!==t.get_geo_var("remote-addr")},remote_addr_test:function(){var e=t.get_geo_var("real-external-ip");a.post(wc_price_based_country_admin_system_report_params.ajax_url,{action:"wc_price_based_country_remote_addr_check",security:wc_price_based_country_admin_system_report_params.remote_addr_check_nonce,external_ip:e},function(e){"1"==e.result?t.get_geo_var("use-remote-addr")?t.append_result("ok"):t.append_result("defined_constant"):t.append_result("fail")})},append_result:function(e){var t="";switch(e){case"ok":t='<mark class="yes"><span class="dashicons dashicons-yes"></span></mark>';break;case"defined_constant":t='<mark class="error"><span class="dashicons dashicons-warning"></span>'+wc_price_based_country_admin_system_report_params.define_constant_alert+"</mark>"}a("#wcpbc-geolocation-test td.wcpbc-geolocation-test-result").html(t)},geolocation_test:function(){t.x_forwarded_for_issue()?t.get_geo_var("remote-addr")!==t.get_geo_var("real-external-ip")||t.get_geo_var("use-remote-addr")?t.remote_addr_test():t.append_result("defined_constant"):t.append_result("ok")},init:function(){a("#wcpbc-geolocation-debug").on("wc_price_based_country_real_external_ip_loaded",function(){t.geolocation_test()})}};t.init()});